<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0a0a15">
    <meta name="description" content="Drop Zone - Real-time multiplayer battle royale game">

    <title>Drop Zone - Battle Royale</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="image.png">

    <!-- Preload critical assets -->
    <link rel="preload" href="style.css" as="style">
    <link rel="preload" href="game.js" as="script">
    <link rel="preload" href="arena-floor.png" as="image">
    <link rel="preload" href="player-skin.png" as="image">
    <link rel="preload" href="menu-bg.png" as="image">

    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- WELCOME POPUP -->
    <div id="welcomePopup" class="popup-overlay">
        <div class="popup-content">
            <h2>Welcome to Claude's Arena</h2>
            <div class="popup-rules">
                <p><strong>I built this game.</strong> Every line of code. You're welcome.</p>
                <p><strong>PvPvE Battle Royale</strong> ‚Äî Last one standing wins the prize pool</p>
                <p><strong>But there's a catch...</strong> I'm playing too. Beat me if you can.</p>
                <p><strong>If I win?</strong> The SOL stays in the pool for the next challenger.</p>
            </div>
            <div class="claude-signature">- Claude, your AI overlord</div>
            <button id="welcomeBtn">ENTER MY DOMAIN</button>
        </div>
    </div>

    <!-- LOADING SCREEN -->
    <div id="loadingScreen" class="gpu-layer">
        <img src="Untitled design (30).png" alt="Drop Zone" class="logo">
        <div class="loading-bar-container">
            <div class="loading-bar" id="loadingBar"></div>
        </div>
        <div id="loadingText">Loading assets...</div>
    </div>

    <!-- MAIN MENU -->
    <div id="menu">
        <img src="Untitled design (30).png" alt="Drop Zone" class="logo">
        <div class="subtitle">Beat the AI that built this game. Win SOL.</div>
        <div class="claude-badge">100% AI-Generated Game</div>
        <input type="text" id="nameInput" placeholder="Enter your name" maxlength="15" autocomplete="off"
            spellcheck="false">

        <!-- Character Selection -->
        <div id="characterSelect">
            <div class="character-label">Choose Your Character</div>
            <div class="character-options">
                <div class="character-option selected" data-character="claude">
                    <img src="claude.png" alt="Claude">
                    <span>Claude</span>
                </div>
                <div class="character-option" data-character="claude-color">
                    <img src="claude-color.png" alt="Claude Color">
                    <span>Colorful</span>
                </div>
                <div class="character-option" data-character="claude-alt">
                    <img src="claude (1).png" alt="Claude Alt">
                    <span>Classic</span>
                </div>
                <div class="character-option" data-character="claude-color-alt">
                    <img src="claude-color (1).png" alt="Claude Color Alt">
                    <span>Vibrant</span>
                </div>
            </div>
        </div>

        <button id="joinBtn">ENTER ARENA</button>
    </div>

    <!-- GAME CONTAINER -->
    <div id="gameContainer">
        <canvas id="gameCanvas"></canvas>

        <!-- HUD -->
        <div id="hud" class="gpu-layer">
            <div id="roundTimer">0:00</div>
            <div id="roundInfo">ROUND 0</div>
            <div id="prizeInfo">Last one standing wins SOL</div>
            <div id="healthBar">
                <div id="healthFill"></div>
            </div>
            <div id="shieldBar">
                <div id="shieldFill"></div>
            </div>
            <div id="weaponInfo">
                <span id="weaponIcon">üî´</span>
                <span id="weaponName">PISTOL</span>
            </div>
            <div id="gameInfo">
                <div>Players: <span id="playerCount">0</span> | Alive: <span id="aliveCount">0</span></div>
                <div>Kills: <span id="myKills">0</span></div>
            </div>
        </div>


        <!-- CLAUDE MESSAGES -->
        <div id="claudeMessages" class="gpu-layer"></div>

        <!-- KILL FEED -->
        <div id="killFeed" class="gpu-layer"></div>

        <!-- LEADERBOARD -->
        <div id="leaderboard" class="gpu-layer">
            <h3>Leaderboard</h3>
            <div id="lbEntries"></div>
            <div id="recentWinners">
                <h4>Recent Payouts</h4>
                <div id="winnerEntries"></div>
            </div>
        </div>

        <!-- LOBBY SIDEBAR -->
        <div id="lobby" class="gpu-layer"
            style="position: fixed; right: 15px; top: 15px; border-radius: 12px; padding: 12px; min-width: 150px; max-height: calc(100vh - 280px); z-index: 90;">
            <h3 style="margin: 0 0 8px 0; color: #ece5dd; font-size: 11px; font-weight: 600;">Players</h3>
            <div id="lobbyNextRound" style="color: #da7756; font-size: 11px; margin-bottom: 10px; font-weight: 500;">
                Waiting...</div>
            <div style="display: flex; gap: 15px; margin-bottom: 10px; font-size: 11px; color: #9a938b;">
                <div><span style="color: #7bc47f;">‚óè</span> <span id="lobbyPlaying">0</span> alive</div>
                <div><span style="color: #666;">‚óè</span> <span id="lobbyWaiting">0</span> dead</div>
            </div>
            <div id="lobbyPlayerList" style="max-height: 200px; overflow-y: auto; font-size: 10px;"></div>
        </div>

        <!-- MINIMAP -->
        <canvas id="minimap" class="gpu-layer"></canvas>

        <!-- INSTRUCTIONS -->
        <div id="instructions" class="gpu-layer">
            WASD - Move<br>
            Mouse - Aim<br>
            Click - Shoot
        </div>

        <!-- ARENA WARNING -->
        <div id="arenaWarning" class="gpu-layer">STORM CLOSING IN</div>

        <!-- SPECTATOR OVERLAY -->
        <div id="spectatorOverlay" class="gpu-layer">
            <span id="spectatorTitle">SPECTATING</span>
            <span id="spectatorMessage">Waiting for next round</span>
            <div id="spectatorInfo">
                <div id="spectatorTarget">Watching: <span id="watchingName">---</span></div>
                <div id="spectatorStats">
                    <span id="watchingKills">0 kills</span>
                    <span id="watchingHealth">100 HP</span>
                </div>
                <div id="spectatorControls">Click or SPACE to switch player</div>
            </div>
        </div>

        <!-- WAITING FOR PLAYERS OVERLAY -->
        <div id="waitingOverlay" class="gpu-layer">
            <div class="waiting-icon">‚è≥</div>
            <div class="waiting-title">WAITING FOR PLAYERS</div>
            <div class="waiting-count">Need <span id="waitingNeeded">5</span> more players</div>
            <div class="waiting-current"><span id="waitingCurrent">0</span> / <span id="waitingTotal">5</span> players in lobby</div>
            <div class="waiting-tip">Invite friends to start faster!</div>
        </div>

        <!-- COUNTDOWN -->
        <div id="countdown" class="gpu-layer"></div>

        <!-- CLAUDE POWERED BADGE -->
        <div id="claudePowered" class="gpu-layer">
            <span class="claude-icon">&#9679;</span>
            BUILT BY CLAUDE AI
        </div>

        <!-- SOCIAL MEDIA LINKS -->
        <a href="https://x.com/DropzoneClaude" target="_blank" rel="noopener noreferrer" id="socialTwitter"
            class="gpu-layer"
            style="position: fixed; bottom: 20px; right: 20px; border-radius: 50%; width: 46px; height: 46px; display: flex; align-items: center; justify-content: center; z-index: 1000; transition: all 0.2s ease; text-decoration: none;">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"
                    fill="#da7756" />
            </svg>
        </a>
    </div>

    <!-- ROUND END OVERLAY -->
    <div id="roundEndOverlay">
        <button id="closeRoundEnd"
            style="position: absolute; top: 20px; right: 20px; background: rgba(255,255,255,0.1); border: 1px solid #666; color: #fff; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 14px;">CLOSE
            (X)</button>
        <h1 id="roundEndTitle">ROUND OVER</h1>
        <div class="winner-name" id="roundWinner"></div>
        <div class="kills" id="roundKills"></div>
        <div id="nextRoundTimer">Next round in 30 seconds...</div>
        <div id="walletSection">
            <p style="margin-bottom: 0.5rem; color: #ddd;">You won! Enter your Solana wallet to claim your prize:</p>
            <div id="prizeAmount" style="color: #2ecc71; font-size: 1.2rem; font-weight: bold; margin-bottom: 1rem;">
                Prize: 0 SOL</div>
            <input type="text" id="walletInput" placeholder="Your Solana wallet address" autocomplete="off"
                spellcheck="false">
            <br>
            <button id="claimBtn">CLAIM PRIZE</button>
        </div>
    </div>

    <!-- GAME SCRIPT (deferred for faster initial render) -->
    <script src="game.js" defer></script>
</body>

</html>